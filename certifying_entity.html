
<!DOCTYPE html>
<html>
<head>
    <script>
    
    function deleteBlockchain() {
        var xhr = new XMLHttpRequest();
        var url = "http://localhost:5000/v1.1/blockchain";
        xhr.open("DELETE", url, true);
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                document.getElementById('deleteBlockchain').innerHTML = xhr.responseText;
            }
        };
        xhr.send(null);
    }

    function putBlockchainConnection() {
        var xhr = new XMLHttpRequest();
        var url = "http://localhost:5000/v1.1/blockchain/connection";
        xhr.open("PUT", url, true);
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                document.getElementById('putBlockchainConnection').innerHTML = xhr.responseText;
            }
        };
        xhr.send(null);
    }

    function getBlockchainConnection() {
        var xhr = new XMLHttpRequest();
        var url = "http://localhost:5000/v1.1/blockchain/connection";
        xhr.open("GET", url, true);
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4)  { 
                document.getElementById('getBlockchainConnection').innerHTML = xhr.responseText;
            }
        };
        xhr.send(null);
    }

    function postBlockchainConnection() {
        var xhr = new XMLHttpRequest();
        var url = "http://localhost:5000/v1.1/blockchain/connection";
        xhr.open("POST", url, true);
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                document.getElementById('postBlockchainConnection').innerHTML = xhr.responseText;
            }
        };
        var connectionName = document.getElementById('connectionName').value
        var data = JSON.stringify(connectionName);
        xhr.send(data);
    }

    </script>

</head>

<body>

<h1>The certifying entity</h1>

<button type="button" onclick="deleteBlockchain()"> DELETE BLOCKCHAIN</button>
<p id="deleteBlockchain"></p>

<button type="button" onclick="postBlockchainConnection()"> POST BLOCKCHAIN CONNECTION</button>
Connection name: <input  type="text" maxlength="512" id="connectionName" value="unichain@192.168.1.12:7315"/>
<p id="postBlockchainConnection"></p>

<button type="button" onclick="putBlockchainConnection()"> PUT BLOCKCHAIN CONNECTION</button>
<p id="putBlockchainConnection"></p>

<button type="button" onclick="getBlockchainConnection()"> GET BLOCKCHAIN CONNECTION</button>
<p id="getBlockchainConnection"></p>

</body>
</html> 